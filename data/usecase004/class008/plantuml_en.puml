@startuml E-Commerce System

' ============ Person-related Hierarchy ============
abstract class Person {
  -name: String
  -dateOfBirth: Date
  -email: String
  -phoneNumber: String
  +updateInfo()
}

abstract class User {
  -userId: String
  -password: String
  -registrationDate: Date
  -lastLoginDateTime: DateTime
  +login()
  +logout()
  +changePassword()
}

class Customer {
  -customerNumber: String
  -pointBalance: Integer
  -membershipRank: String
  +placeOrder()
  +writeReview()
  +usePoints()
}

class Employee {
  -employeeNumber: String
  -department: String
  -position: String
  +clockIn()
  +processTask()
}

class Administrator {
  -privilegeLevel: Integer
  +manageProducts()
  +manageOrders()
  +manageUsers()
  +generateReport()
}

class Seller {
  -sellerId: String
  -storeName: String
  -rating: Float
  +registerProduct()
  +manageInventory()
  +checkSales()
}

' ============ Product-related ============
abstract class Product {
  -productId: String
  -productName: String
  -description: String
  -price: Float
  -stockQuantity: Integer
  -salesStatus: String
  +updateStock()
  +changePrice()
  +displayDetails()
}

class Electronics {
  -manufacturer: String
  -modelNumber: String
  -warrantyPeriod: Integer
  -powerConsumption: Float
  +displaySpecifications()
}

class Clothing {
  -brand: String
  -size: String
  -color: String
  -material: String
  +displaySizeChart()
}

class Book {
  -isbn: String
  -author: String
  -publisher: String
  -pageCount: Integer
  +displayTableOfContents()
}

class Food {
  -expirationDate: Date
  -origin: String
  -allergyInfo: String
  -storageMethod: String
  +displayNutritionInfo()
}

class ProductCategory {
  -categoryId: String
  -categoryName: String
  -parentCategoryId: String
  +getSubcategories()
}

class ProductReview {
  -reviewId: String
  -rating: Integer
  -comment: String
  -postDateTime: DateTime
  +addHelpful()
}

class ProductImage {
  -imageId: String
  -imageUrl: String
  -displayOrder: Integer
  -thumbnail: String
}

' ============ Order-related ============
class Order {
  -orderNumber: String
  -orderDateTime: DateTime
  -orderStatus: String
  -totalAmount: Float
  -shippingAddressId: String
  +confirm()
  +cancel()
  +updateStatus()
}

class OrderItem {
  -itemId: String
  -quantity: Integer
  -unitPrice: Float
  -subtotal: Float
  +calculateSubtotal()
}

class Cart {
  -cartId: String
  -createdDateTime: DateTime
  -updatedDateTime: DateTime
  +addProduct()
  +removeProduct()
  +calculateTotal()
  +clear()
}

class CartItem {
  -quantity: Integer
  -addedDateTime: DateTime
  +changeQuantity()
}

class Wishlist {
  -listId: String
  -listName: String
  -publicSetting: Boolean
  +addProduct()
  +removeProduct()
  +moveToCart()
}

class WishlistItem {
  -addedDateTime: DateTime
  -priority: Integer
}

' ============ Payment-related ============
abstract class Payment {
  -paymentId: String
  -paymentDateTime: DateTime
  -amount: Float
  -status: String
  +process()
  +cancel()
  +refund()
}

class CreditCardPayment {
  -cardNumber: String
  -expirationDate: String
  -cardholderName: String
  -securityCode: String
  +authenticate()
}

class BankTransferPayment {
  -bankName: String
  -branchName: String
  -accountNumber: String
  -transferorName: String
  +displayTransferInfo()
}

class DigitalWalletPayment {
  -walletId: String
  -balance: Float
  -serviceName: String
  +checkBalance()
  +topUp()
}

class PaymentMethod {
  -methodId: String
  -methodName: String
  -fee: Float
  -activeFlag: Boolean
}

' ============ Shipping-related ============
class Shipment {
  -shipmentId: String
  -shipmentDateTime: DateTime
  -shipmentStatus: String
  -trackingNumber: String
  +startShipment()
  +completeShipment()
}

class ShippingAddress {
  -addressId: String
  -postalCode: String
  -state: String
  -city: String
  -streetAddress: String
  -buildingName: String
  -recipientName: String
  -phoneNumber: String
  +validateAddress()
}

class ShippingMethod {
  -methodId: String
  -courierCompany: String
  -shippingFee: Float
  -deliveryDays: Integer
}

class Courier {
  -courierId: String
  -courierName: String
  -contact: String
  -serviceArea: String
}

class TrackingInfo {
  -trackingId: String
  -currentLocation: String
  -updateDateTime: DateTime
  -status: String
  +getHistory()
}

' ============ Others ============
class Invoice {
  -invoiceNumber: String
  -issueDate: Date
  -dueDate: Date
  -totalAmount: Float
  -tax: Float
  +generatePDF()
  +sendEmail()
}

class Discount {
  -discountId: String
  -discountName: String
  -discountRate: Float
  -discountAmount: Float
  -startDate: Date
  -endDate: Date
  +apply()
  +validate()
}

class Coupon {
  -couponCode: String
  -discountRate: Float
  -minimumPurchaseAmount: Float
  -usageCount: Integer
  -expirationDate: Date
  +use()
  +checkValidity()
}

class Notification {
  -notificationId: String
  -title: String
  -message: String
  -notificationDateTime: DateTime
  -readFlag: Boolean
  +send()
  +markAsRead()
}

' ============ Inheritance Relationships ============
Person <|-- User
User <|-- Customer
User <|-- Employee
Employee <|-- Administrator
User <|-- Seller

Product <|-- Electronics
Product <|-- Clothing
Product <|-- Book
Product <|-- Food

Payment <|-- CreditCardPayment
Payment <|-- BankTransferPayment
Payment <|-- DigitalWalletPayment

' ============ Association Relationships ============
Customer "1" -- "0..*" Order
Customer "1" -- "1" Cart
Customer "1" -- "0..*" Wishlist
Customer "1" -- "0..*" ProductReview
Customer "1" -- "0..*" ShippingAddress

Seller "1" -- "0..*" Product

Product "1" -- "0..*" ProductImage
Product "1" -- "0..*" ProductReview
Product "0..*" -- "1" ProductCategory

Order "1" -- "1..*" OrderItem
Order "1" -- "1" Payment
Order "1" -- "1" Shipment
Order "1" -- "1" Invoice
Order "0..1" -- "0..1" Discount
Order "0..1" -- "0..1" Coupon

OrderItem "0..*" -- "1" Product

Cart "1" -- "0..*" CartItem
CartItem "0..*" -- "1" Product

Wishlist "1" -- "0..*" WishlistItem
WishlistItem "0..*" -- "1" Product

Payment "0..*" -- "1" PaymentMethod

Shipment "1" -- "1" ShippingAddress
Shipment "0..*" -- "1" ShippingMethod
Shipment "1" -- "0..*" TrackingInfo
ShippingMethod "0..*" -- "1" Courier

Customer "1" -- "0..*" Notification

@enduml
