@startuml Abstract Syntax Tree Nodes

' Abstract base class
abstract class ASTNode {
  -position: SourcePosition
  -type: TypeInfo
  +accept(visitor: Visitor)
  +getChildren()
}

' Abstract expression class
abstract class Expression {
  +evaluate()
}

' Literal expressions
abstract class LiteralExpression {
  -value: Object
}

class NumberLiteral {
  -value: number
}

class StringLiteral {
  -value: string
}

class BooleanLiteral {
  -value: boolean
}

class NullLiteral {
}

' Other expressions
class IdentifierExpression {
  -name: string
}

class BinaryExpression {
  -operator: string
  -left: Expression
  -right: Expression
}

class UnaryExpression {
  -operator: string
  -operand: Expression
}

class FunctionCallExpression {
  -function: Expression
  -arguments: Expression[]
}

class ArrayAccessExpression {
  -array: Expression
  -index: Expression
}

class AssignmentExpression {
  -left: Expression
  -right: Expression
}

' Abstract statement class
abstract class Statement {
  +execute()
}

class VariableDeclaration {
  -name: string
  -type: TypeInfo
  -initializer: Expression
}

class FunctionDeclaration {
  -name: string
  -parameters: Parameter[]
  -returnType: TypeInfo
  -body: BlockStatement
}

class IfStatement {
  -condition: Expression
  -thenBranch: Statement
  -elseBranch: Statement
}

class WhileStatement {
  -condition: Expression
  -body: Statement
}

class ForStatement {
  -initializer: Statement
  -condition: Expression
  -increment: Expression
  -body: Statement
}

class ReturnStatement {
  -returnValue: Expression
}

class ExpressionStatement {
  -expression: Expression
}

class BlockStatement {
  -statements: Statement[]
}

' Other nodes
class Parameter {
  -name: string
  -type: TypeInfo
}

class Program {
  -statements: Statement[]
}

' Inheritance relationships
ASTNode <|-- Expression
ASTNode <|-- Statement
ASTNode <|-- Parameter
ASTNode <|-- Program

Expression <|-- LiteralExpression
Expression <|-- IdentifierExpression
Expression <|-- BinaryExpression
Expression <|-- UnaryExpression
Expression <|-- FunctionCallExpression
Expression <|-- ArrayAccessExpression
Expression <|-- AssignmentExpression

LiteralExpression <|-- NumberLiteral
LiteralExpression <|-- StringLiteral
LiteralExpression <|-- BooleanLiteral
LiteralExpression <|-- NullLiteral

Statement <|-- VariableDeclaration
Statement <|-- FunctionDeclaration
Statement <|-- IfStatement
Statement <|-- WhileStatement
Statement <|-- ForStatement
Statement <|-- ReturnStatement
Statement <|-- ExpressionStatement
Statement <|-- BlockStatement

' Associations
BinaryExpression o-- "2" Expression
UnaryExpression o-- "1" Expression
FunctionCallExpression o-- "1" Expression
FunctionCallExpression o-- "*" Expression : arguments
ArrayAccessExpression o-- "2" Expression
AssignmentExpression o-- "2" Expression

VariableDeclaration o-- "0..1" Expression
FunctionDeclaration o-- "*" Parameter
FunctionDeclaration o-- "1" BlockStatement
IfStatement o-- "1" Expression
IfStatement o-- "1..2" Statement
WhileStatement o-- "1" Expression
WhileStatement o-- "1" Statement
ForStatement o-- "1" Statement : initializer
ForStatement o-- "1" Expression : condition
ForStatement o-- "1" Expression : increment
ForStatement o-- "1" Statement : body
ReturnStatement o-- "0..1" Expression
ExpressionStatement o-- "1" Expression
BlockStatement o-- "*" Statement

Program o-- "*" Statement

@enduml
